[{"name":"Clearout Groups","type":"shell","order":1,"config":{"content":"","shell":"mkdir -p /srv/ssot-auto/ansible/inventory\nrm -f /srv/ssot-auto/ansible/inventory/group-*\nrm -f /srv/ssot-auto/ansible/play-groups.yml"},"createdAt":"2026-01-17T07:25:51.2357769Z"},{"name":"Generate Inventory","type":"template","order":2,"config":{"content":"","eachEntity":"true","path":"/srv/ssot-auto/ansible/inventory/group-{{ entity.Name }}.yml","template":"{{ fields = entity.Fields }}\n{{ children = fields.children ?? [] }}\n{{ indent = \"\" | string.pad_left 4 }}\n\n{{ fields.groupname }}:\n  vars:{{ if fields.groupvars != null }}\n{{ \"\\n\" + indent + ((fields.groupvars ?? \"\") | string.replace \"\\n\" (\"\\n\" + indent)) }}{{ end }}\n  children:\n{{ for g in children }}\n    {{ g }}:\n{{ end }}\n"},"createdAt":"2026-01-17T07:57:00.7102282Z"},{"name":"Generate Plabooks","type":"template","order":3,"config":{"content":"","path":"/srv/ssot-auto/ansible/play-groups.yml","template":"{{~ for entity in entities ~}}\n{{ roles = entity.Fields.roles ?? [] }}\n{{ build_playbook = entity.Fields.build_playbook ?? false }}\n\n{{ if build_playbook }}\n- name: SSOT - {{ entity.Name }}\n  hosts: {{ entity.Fields.groupname }}\n  vars:\n    motd_job: \"{{ entity.Name }}\"\n  roles:\n{{ for g in roles }}\n  - {{ g }}\n{{ end }}\n{{ end }}\n\n{{~ end ~}}\n"}}]